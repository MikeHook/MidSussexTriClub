@inherits Umbraco.Web.Mvc.UmbracoViewPage<MSTC.Web.Model.PaymentModel>
@{
    var model = TempData["Model"] != null ? TempData["Model"] as MSTC.Web.Model.PaymentModel : Model;
}
<div class="row">
    @if (!model.HasPaymentDetails)
    {
        <p>No pending payment request has been found.</p>
    }
    else if (!model.PaymentConfirmed)
    {
        using (Html.BeginUmbracoForm("Confirm", "Payment", FormMethod.Post, new { id = "confirm-payment", @class = "form-horizontal" }))
        {
            @Html.AntiForgeryToken()

            <p>Please confirm that you would like to purchase</p>
            <p><strong>@Html.Raw(model.PaymentDescription)</strong></p>
            <p>for <strong>£@Html.Raw(model.Cost.ToString("N2"))</strong></p>
            <button name="confirm" type="submit" class="btn btn-yellow pull-right">Confirm Payment</button>
        }
    }
    else
    {
        if (model.ShowPaymentFailed)
        {
            <div class="col-sm-12">
                <p>Sorry, there has been a problem completing your payment. Please <a href="the-club/contact-us.aspx">send us a message</a> for further assistance </p>
            </div>
        }
        else if (model.ShowSwimSubsConfirmation)
        {
        <div class="col-sm-12">
            <p>Thank you for purchasing additional swim subs, enjoy your swim!</p>
            <p>You have purchased <strong>@Html.Raw(model.PaymentDescription)</strong> for <strong>£@Html.Raw(model.Cost.ToString("N2"))</strong></p>
            <p>Please go to <a href="/members-area/my-details">your details page</a> to check out all your full member profile.</p>
        </div>
        }
        else if (model.ShowRenewed)
        {
        <div class="col-sm-12">
            <p>Thank you for updating your membership for @DateTime.Now.Year</p>
            <p>Please go to <a href="/members-area/my-details">your details page</a> to make sure your information is up to date and retrieve your open water swim authorisation number.</p>
        </div>
        }
    }
</div>
