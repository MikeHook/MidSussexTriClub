@inherits Umbraco.Web.Mvc.UmbracoTemplatePage<ContentModels.EventBooking>
@using ContentModels = Umbraco.Web.PublishedContentModels;
@{
	Layout = "Master.cshtml";
}
@section Header {
	<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
	<link href="~/css/mstc/toastr.min.css" rel="stylesheet" />
}

@{ Html.RenderPartial("~/Views/Partials/SectionHeader.cshtml"); }

<section class="section">
	<div class="container edit-member">
		@if (Model.Content.BodyText != null)
		{

			<div class="row">
				<div class="col-sm-12">
					@Model.Content.BodyText
				</div>
			</div>

		}

		<form role="form" id="eventBookingForm" class="form-horizontal">
			<div class="row">
				<div class="col-sm-12">
					<div class="form-group">
						<h3 class="col-sm-12">Book an Event</h3>
					</div>
					<div class="form-group">
						<label class="col-sm-2 control-label"><b>Event Type</b></label>
						<div class="col-sm-7">
							<select class="form-control" id="eventType" name="eventType">
								<option value="-1">Select an event</option>
							</select>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-2 control-label"><b>Event Date</b></label>
						<div class="col-sm-7">
							<select class="form-control" id="eventDate" name="eventDate">
							</select>
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-2 control-label"><b>Spaces remaining</b></label>
						<div class="col-sm-10">
							<p id="spaces" class="form-control-static"></p>
						</div>
					</div>

					<div class="form-group">
						<div class="col-sm-2"></div>
						<div class="col-sm-10">
							<button name="bookEvent" id="bookEventButton" type="submit" class="btn btn-yellow">Book place for £xxx</button>
						</div>
					</div>

				</div>
			</div>
		</form>

		<hr />
		<div class="blog-post blog-single-post">
			<form role="form" id="eventCancelForm" class="form-horizontal">
				<div class="row">
					<div class="col-sm-12">
						<div class="form-group">
							<h3 class="col-sm-12">Your upcoming events</h3>
						</div>

						<table border="0" class="jobs-list">
							<thead>
								<tr>
									<th>Event</th>
									<th>Date</th>
									<th></th>
								</tr>
							</thead>
							<tbody id="upcomingEvents">
								<!--
									<tr>
									<td>Open Water Swimming</td>
									<td>Tues 6th April 2021</td>
									<td><button name="cancelEvent" type="submit" class="btn btn-grey">Cancel event</button></td>
								</tr>
								-->
							</tbody>
						</table>

					</div>
				</div>
			</form>
		</div>
	</div>

</section>

<div id="dialog-confirm" title="Event Booking Confirmation">
	<p>Do you want to book <span id="eventTypeConfirm"></span> on <span id="eventDateConfirm"></span> for £<span id="eventCostConfirm"></span>?</p>
</div>

<div id="dialog-cancel" title="Cancel Event Booking">
	<p>Do you want to cancel <span id="eventTypeCancel"></span> on <span id="eventDateCancel"></span>?</p>
</div>

@section FooterScripts {
	<script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	<script src="~/scripts/mstc/toastr.min.js"></script>
	<script type="text/javascript" src="/scripts/jsnlog.min.js"></script>
	<script type="text/javascript" src="~/scripts/mstc/event-booking.js"></script>
}
